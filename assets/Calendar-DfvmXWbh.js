import{o as y,r as v,c as f,p as g,a as p,b,d as E,e as S,f as h,w as _,u as l,i as j,F as k,g as O,h as V,D as A}from"./index-BeEkCUdZ.js";import{E as D}from"./el-button-Ex-qPnDM.js";import"./icon-CwRsUU3E.js";function q(){return typeof window<"u"}function B(a){return q()&&a in window}function w({"min-width":a,min:e=a,max:n,raw:s}={}){return{min:e,max:n,raw:s}}function x(a,e=!0){return Array.isArray(a)?a.map(n=>{if(e&&Array.isArray(n))throw new Error("The tuple syntax is not supported for `screens`.");if(typeof n=="string")return{name:n.toString(),values:[{min:n,max:void 0}]};let[s,u]=n;return s=s.toString(),typeof u=="string"?{name:s,values:[{min:u,max:void 0}]}:Array.isArray(u)?{name:s,values:u.map(i=>w(i))}:{name:s,values:[w(u)]}}):x(Object.entries(a??{}),!1)}function C(a){return a.map(e=>e.raw!==void 0?e.raw:[e.min&&`(min-width: ${e.min})`,e.max&&`(max-width: ${e.max})`].filter(Boolean).join(" and ")).join(", ")}var M={xs:"0px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px"};const F="$screens";function L(a){const e=v({screens:x(a||M),queries:{},matches:{},hasSetup:!1});function n(){Object.entries(e.queries).forEach(([t,r])=>{e.matches[t]=r.matches})}function s(t){return f(()=>Object.keys(e.matches).filter(r=>e.matches[r]===!0&&t.hasOwnProperty(r)).map(r=>t[r]))}const u=f(()=>Object.keys(e.matches).filter(t=>e.matches[t]));function i(t,r){return f(()=>{const o=m.value;return o&&t.hasOwnProperty(o)?t[o]:r})}const m=f(()=>{const t=u.value;return t.length?t[t.length-1]:""});function c(){Object.values(e.queries).forEach(t=>t.removeEventListener("change",n)),e.queries={},e.matches={}}return!e.hasSetup&&B("matchMedia")&&(c(),e.queries=e.screens.reduce((t,{name:r,values:o})=>{const d=window.matchMedia(C(o));return d.addEventListener("change",n),t[r]=d,t},{}),n(),e.hasSetup=!0),{matches:e.matches,list:u,mapList:s,current:m,mapCurrent:i,cleanup:c}}function N(a,e){const n=L(a);return g(F,n),y(()=>n.cleanup()),n}const z={__name:"Calendar",setup(a){const e=p(new Date),n=p([]),s=p(null),{mapCurrent:u}=N({xs:"0px",sm:"576px",md:"768px",lg:"992px",xl:"1200px"}),i=u({xl:4,lg:4,md:3,sm:2},2),m=u({xl:3,lg:3,md:4,sm:6},6),c=async()=>{e.value=new Date;const t=new Date().getFullYear();await s.value.move(new Date(t,0,1))};return b(()=>{c()}),(t,r)=>{const o=D;return O(),E(k,null,[S("div",null,[h(o,{type:"primary",onClick:c},{default:_(()=>r[1]||(r[1]=[V("今天")])),_:1})]),h(l(A),{modelValue:l(e),"onUpdate:modelValue":r[0]||(r[0]=d=>j(e)?e.value=d:null),mode:"date",ref_key:"calendar",ref:s,locale:"zh-cn","first-day-of-week":2,columns:l(i),rows:l(m),attributes:l(n)},null,8,["modelValue","columns","rows","attributes"])],64)}}};export{z as default};
